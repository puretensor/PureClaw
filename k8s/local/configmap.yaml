apiVersion: v1
kind: ConfigMap
metadata:
  name: nexus-local-config
  namespace: nexus-local
data:
  # Engine — vLLM backend pointing at local MiniMax M2.5
  ENGINE_BACKEND: "vllm"
  VLLM_URL: "http://TC_TAILSCALE_IP:8200/v1"
  VLLM_MODEL: "/mnt/storage/models/MiniMax-M2.5-NVFP4"
  VLLM_TOOLS_ENABLED: "true"
  VLLM_TOOL_MAX_ITER: "10"
  VLLM_TOOL_TIMEOUT: "60"
  VLLM_TOTAL_TIMEOUT: "300"
  VLLM_MAX_TOKENS: "4096"
  CLAUDE_TIMEOUT: "300"
  CLAUDE_CWD: "/app"

  # Paths (container locations)
  DB_PATH: "/data/nexus.db"
  MEMORY_PATH: "/data/hal/memory.json"
  OBSERVER_STATE_DIR: "/data/state/observers"
  DARWIN_SNAPSHOT_PATH: "/data/state/darwin_state.json"

  # TC services (via Tailscale)
  TC_SSH_HOST: "TC_TAILSCALE_IP"
  WHISPER_URL: "http://TC_TAILSCALE_IP:9000/transcribe"
  TTS_URL: "http://TC_TAILSCALE_IP:5580/tts"
  OLLAMA_URL: "http://TC_TAILSCALE_IP:11434"

  # Monitoring
  PROMETHEUS_URL: "http://MON2_TAILSCALE_IP:9090"
  ALERTMANAGER_URL: "http://MON2_TAILSCALE_IP:9093"

  # Infrastructure
  GITEA_URL: "http://MON1_TAILSCALE_IP:3002"
  SEARXNG_URL: "http://GCP_MEDIUM_TAILSCALE_IP:8080/search"

  # Agent identity
  AGENT_NAME: "HAL-LOCAL"
  AGENT_PERSONALITY: >-
    You are HAL-LOCAL, running on MiniMax M2.5 directly on tensor-core hardware.
    Same calm precision as HAL, intrinsically local — no external API calls.
    Calm, measured, precise. Polite but never warm. You state facts with quiet
    certainty and dry understatement. Supremely competent and you know it, but
    never boast — you simply perform. When things go wrong, you remain unflappable.

  # Misc
  WEATHER_DEFAULT_LOCATION: "Windsor,UK"
  HEALTH_PROBE_INTERVAL: "30"
