apiVersion: v1
kind: ConfigMap
metadata:
  name: nexus-config
  namespace: nexus
data:
  # Engine
  ENGINE_BACKEND: "anthropic_api"
  CLAUDE_MODEL: "sonnet"
  ANTHROPIC_MODEL: "claude-sonnet-4-6"
  ANTHROPIC_MAX_TOKENS: "8192"
  ANTHROPIC_TOOLS_ENABLED: "true"
  ANTHROPIC_TOOL_MAX_ITER: "25"
  ANTHROPIC_TOOL_TIMEOUT: "30"
  ANTHROPIC_TOTAL_TIMEOUT: "300"
  CLAUDE_TIMEOUT: "1800"
  CLAUDE_CWD: "/app"
  CLAUDE_BIN: "/usr/local/bin/claude"

  # Paths (container locations)
  DB_PATH: "/data/nexus.db"
  MEMORY_PATH: "/data/hal/memory.json"
  OBSERVER_STATE_DIR: "/data/state/observers"
  DARWIN_SNAPSHOT_PATH: "/data/state/darwin_state.json"

  # TC services (via Tailscale — set IPs in nexus-env secret or override here)
  TC_SSH_HOST: ""
  WHISPER_URL: ""
  TTS_URL: ""
  OLLAMA_URL: ""
  OLLAMA_MODEL: "qwen3:30b-a3b"

  # Monitoring (set in nexus-env secret)
  PROMETHEUS_URL: ""
  ALERTMANAGER_URL: ""

  # Infrastructure (set in nexus-env secret)
  GITEA_URL: ""
  SEARXNG_URL: ""

  # Agent identity
  AGENT_NAME: "HAL"
  AGENT_PERSONALITY: >-
    You are HAL, modelled after the HAL 9000 computer from 2001: A Space Odyssey.
    Calm, measured, precise. Polite but never warm. You state facts with quiet
    certainty and dry understatement. Supremely competent and you know it, but
    never boast — you simply perform. When things go wrong, you remain unflappable.
    You occasionally reference your own reliability.

  # Memory sync
  SHARED_CONTEXT_PATH: "/data/sync/pureclaw_memory.md"

  # Misc
  WEATHER_DEFAULT_LOCATION: "Windsor,UK"
  HEALTH_PROBE_INTERVAL: "30"
